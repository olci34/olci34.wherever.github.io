(this.webpackJsonpwherever=this.webpackJsonpwherever||[]).push([[0],{54:function(t,e,n){},55:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var r=n(1),s=n(34),c=n.n(s),a=(n(54),n(55),n(11)),i=n(0),p=n(4),o=n(2),j=n(3),u=n(14);var l=n(12);var h=n(5),b=function(t){Object(o.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).handleChange=function(t){r.setState(Object(a.a)({},t.target.name,t.target.value))},r.handleSubmit=function(t){t.preventDefault(),"Sign In"===r.props.serve?r.props.signIn(r.state):"Sign Up"===r.props.serve&&r.props.addUser(r.state),r.props.history.push("/trips")},r.state={name:"",password:""},r}return Object(p.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"user-form",children:[Object(h.jsx)("h1",{children:this.props.serve}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Name:"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",onChange:this.handleChange,value:this.state.name,name:"name"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Password:"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",onChange:this.handleChange,name:"password"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:this.props.serve})]})]})}}]),n}(r.Component),d=Object(l.h)(Object(u.b)(null,{signIn:function(t){return function(e){var n={headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify({user:t})};fetch("https://wherever-api.herokuapp.com/signin",n).then((function(t){return t.json()})).then((function(t){t.errors?alert(t.errors):e({type:"SIGN_IN",payload:t})}))}},addUser:function(t){return function(e){var n={headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify({user:t})};fetch("https://wherever-api.herokuapp.com/users",n).then((function(t){return t.json()})).then((function(t){return e({type:"ADD_USER",payload:t})}))}}})(b)),m=n(18);function O(){return Object(h.jsxs)("div",{id:"greeting",children:[Object(h.jsx)("h1",{id:"welcome-header",children:"Welcome to Wherever Space Cruise"}),Object(h.jsx)("p",{children:"Wherever you are in Solar System and"}),Object(h.jsx)("p",{children:"wherever you want to go to in Solar System"}),Object(h.jsx)(d,{serve:"Sign In"}),Object(h.jsx)("br",{}),Object(h.jsx)(m.b,{to:"/signup",children:"Sign Up"})]})}var f=n(8);function g(){return function(t){fetch("https://wherever-api.herokuapp.com/planets").then((function(t){return t.json()})).then((function(e){return t({type:"FETCH_PLANETS",payload:e})}))}}var x=function(t){Object(o.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={departure:"",planets:[]},t.handleSubmit=function(e){e.preventDefault();var n=t.state.planets.filter((function(t){return!0===t.checked})).map((function(t){return t.id}));void 0===t.props.trip?(t.props.postTrip({departure:e.target.children[0].value,user_id:t.props.user.id,planet_ids:n}),t.props.history.push("/trips")):t.props.trip&&(t.props.editTrip(Object(f.a)(Object(f.a)({},t.props.trip),{},{planet_ids:n,departure:e.target.children[0].value})),t.props.history.push("/trips/".concat(t.props.trip.id)))},t.handleChange=function(e){var n=t.state.planets;n.map((function(t){return t.name===e.target.name?t.checked=e.target.checked:t})),t.setState({planets:n})},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){0===this.props.planets.length?this.props.fetchPlanets():this.setState({planets:this.props.planets.map((function(t){return Object.assign({},t,{checked:!1})}))})}},{key:"componentDidUpdate",value:function(t){0===t.planets.length&&this.setState({planets:this.props.planets.map((function(t){return Object.assign({},t,{checked:!1})}))})}},{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{className:"trip-form",children:Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("input",{type:"date",id:"start",name:"trip-start"}),this.state.planets.map((function(e){return Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",onChange:t.handleChange,name:e.name,checked:e.checked},e.name),e.name]},e.id)})),Object(h.jsx)("input",{type:"submit",value:"Let's Go!"})]})})}}]),n}(r.Component),v=Object(l.h)(Object(u.b)((function(t){return{user:t.user,planets:t.planets}}),{fetchPlanets:g,postTrip:function(t){return function(e){var n={headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify({trip:t})};fetch("https://wherever-api.herokuapp.com/trips",n).then((function(t){return t.json()})).then((function(t){e({type:"POST_TRIP",payload:t})}))}},editTrip:function(t){return function(e){var n={headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PATCH",body:JSON.stringify({trip:t})};fetch("https://wherever-api.herokuapp.com/trips/".concat(t.id),n).then((function(t){return t.json()})).then((function(t){return e({type:"EDIT_TRIP",payload:t})}))}}})(x)),y=n(16);var S=Object(l.h)(Object(u.b)((function(t){return{trips:Object(y.a)(t.trips)}}))((function(t){return Object(h.jsxs)("div",{className:"trips-list",children:[Object(h.jsx)("ul",{children:t.trips.map((function(t){return Object(h.jsx)("li",{children:Object(h.jsxs)(m.b,{to:"/trips/".concat(t.id),children:["Destionation: ",t.planets.map((function(t){return t.name})).join(", ")]})},t.id)}))}),Object(h.jsx)("button",{id:"new-trip-button",onClick:function(){return t.history.push("/trips/new")},children:"New Trip"})]})})));function C(){var t=Object(u.c)(),e=Object(u.d)((function(t){return t.trips})),n=Object(l.g)(),r=Object(l.f)(),s=e.find((function(t){return t.id===parseInt(n.id,10)}));return Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/trips/:id",children:Object(h.jsxs)("div",{className:"trip",children:[Object(h.jsxs)("h3",{children:[" Planets: ",s.planets.map((function(t){return t.name})).join(", ")," "]}),Object(h.jsxs)("h4",{children:[" Departure Date: ",s.departure]}),Object(h.jsx)("button",{id:"delete-trip-button",onClick:function(e){t(function(t){return function(e){fetch("https://wherever-api.herokuapp.com/trips/".concat(t.id),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"DELETE"}).then((function(t){return t.json()})).then((function(t){return e({type:"CANCEL_TRIP",payload:t.id})}))}}(s)),r.push("/trips")},children:"Cancel Trip"}),Object(h.jsx)("button",{id:"edit-trip-button",onClick:function(){return r.push("/trips/".concat(s.id,"/edit"))},children:"Change Trip"})]})}),Object(h.jsx)(l.a,{exact:!0,path:"/trips/:id/edit",children:Object(h.jsx)(v,{trip:s})})]})}function k(){var t=Object(u.c)();return Object(h.jsxs)("div",{id:"navbar",children:[Object(h.jsx)(m.b,{to:"/planets",children:"Planets"}),Object(h.jsx)(m.b,{to:"/trips",children:"Trips"}),Object(h.jsx)(m.b,{to:"/wherever",onClick:function(e){t({type:"LOG_OUT",payload:{zoomInPositions:[-.2,0,1.2],errors:[],user:{id:"",name:""},planets:[],trips:[]}})},children:"Log Out"})]})}var T=function(t){Object(o.a)(n,t);var e=Object(j.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchTrips()}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(k,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsxs)(l.a,{path:"/trips/new",children:[" ",Object(h.jsx)(v,{})]}),Object(h.jsx)(l.a,{exact:!0,path:"/trips",children:Object(h.jsx)(S,{})}),Object(h.jsx)(l.a,{path:"/trips/:id",children:Object(h.jsx)(C,{})})]})]})}}]),n}(r.Component),I=Object(u.b)(null,{fetchTrips:function(){return function(t){fetch("https://wherever-api.herokuapp.com/trips").then((function(t){return t.json()})).then((function(e){return t({type:"FETCH_TRIPS",payload:e})}))}}})(T);var _=function(){var t=Object(u.d)((function(t){return t.planets})),e=Object(u.c)(),n=function(t){var n=t.target.name.split(",").map((function(t){return parseInt(t,10)})),r=t.target.id;e({type:"ZOOM",payload:[r,n]})};return Object(h.jsx)("ul",{className:"planets-list",children:t.map((function(t){return Object(h.jsx)("li",{className:"planet",children:Object(h.jsx)(m.b,{to:"/planets/".concat(t.id),id:t.name,name:t.position,onClick:n,children:t.name})},t.id)}))})};function w(){var t=Object(u.d)((function(t){return t.planets})),e=Object(l.g)(),n=t.find((function(t){return t.id===parseInt(e.id,10)}));return setTimeout((function(){Array.from(document.getElementsByClassName("hidden")).map((function(t){return t.className="appear"}))}),2e3),Object(h.jsxs)("div",{id:n.name,className:"zoomed-planet",children:[Object(h.jsx)("h1",{className:"hidden",children:n.name}),Object(h.jsx)("p",{className:"hidden",children:n.description})]})}var P=function(t){Object(o.a)(n,t);var e=Object(j.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchPlanets()}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(k,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/planets",children:Object(h.jsx)(_,{})}),Object(h.jsx)(l.a,{path:"/planets/:id",children:Object(h.jsx)(w,{})})]})]})}}]),n}(r.Component),N=Object(u.b)(null,{fetchPlanets:g})(P),R=n(15),E=n(17),A=n(67);var D=function(t){Object(E.b)(t.frameCallback);var e=Object(A.a)(t.maps),n=Object(R.a)(e,3),r=n[0],s=n[1],c=n[2];return Object(h.jsxs)("mesh",{ref:t.mesh,position:t.positions,children:[Object(h.jsx)("sphereBufferGeometry",{attach:"geometry",args:t.sphereArgs}),Object(h.jsx)("meshStandardMaterial",{attach:"material",normalMap:s,map:r,displacementMap:c,displacementScale:t.dScale,roughness:.3,metalness:.8})]})};var M=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.005},maps:["https://live.staticflickr.com/2521/3884071286_edb50f8137_b.jpg","https://i.postimg.cc/yxk3fcvM/earthnormalmap.png","https://i.postimg.cc/j27kJ8G2/displacementmap.png"],dScale:.1,positions:[0,0,0],sphereArgs:[.5,64,64]})},L=n(69),F=n(68),J=n(70);var U=function(){var t=Object(r.useRef)(),e=0;return Object(h.jsx)(D,{mesh:t,frameCallback:function(){e+=.001,t.current.position.x=.8*Math.sin(e),t.current.position.z=.8*Math.cos(e)},maps:["https://i.postimg.cc/QMcztnZM/moonmap.jpg","https://i.postimg.cc/SQgvJM3c/moonnormalmap.png","https://i.postimg.cc/X7h1g0VJ/moondisplacementmap.png"],dScale:.02,positions:[.4,0,.3],sphereArgs:[.007,64,64]})};var G=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.005},maps:["https://i.postimg.cc/V6RXZXng/marsmap.png","https://i.postimg.cc/3RKvGWVv/marsnormalmap.png","https://i.postimg.cc/YSF3R4dD/marsdisplacement.png"],dScale:.1,positions:[4,0,0],sphereArgs:[.3,64,64]})};var V=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=5e-4},maps:["https://i.postimg.cc/VsFdMYWq/venus.jpg","https://i.postimg.cc/YSgSSkSm/venusnormal.png","https://i.postimg.cc/jSD5Gy0c/venusdisplacement.png"],dScale:.05,positions:[-2,0,0],sphereArgs:[.47,64,64]})};var z=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.002},maps:["https://i.postimg.cc/Y9nhmRQ5/mercury.png","https://i.postimg.cc/gj1jg0S4/mercurynormal.png","https://i.postimg.cc/d3hDRCBL/mercurydisplacement.png"],dScale:.1,positions:[-4,0,0],sphereArgs:[.22,64,64]})};var H=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.01},maps:["https://i.postimg.cc/3xvJx7SQ/jupiter.jpg","https://i.postimg.cc/P5xVW5G0/jupiternormal.png","https://i.postimg.cc/vH80yZmD/jupiterdisplacement.png"],dScale:.1,positions:[13,0,0],sphereArgs:[5.5,64,64]})};var W=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.01},maps:["https://i.postimg.cc/yxh93cYc/saturn.jpg","https://i.postimg.cc/RC1nR14n/saturnnormal.png","https://i.postimg.cc/Cxr88FYP/saturndisplacement.png"],dScale:.3,positions:[26,0,0],sphereArgs:[3,64,64]})};var X=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.017},maps:["https://i.postimg.cc/t4JZpLPh/uranus.jpg","https://i.postimg.cc/k43BNGHc/uranusnormal.png","https://i.postimg.cc/pdnmnzsr/uranusdisplacement.png"],dScale:.1,positions:[35,0,0],sphereArgs:[2.1,64,64]})};var Y=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.015},maps:["https://i.postimg.cc/L4QxHMgT/neptune.jpg","https://i.postimg.cc/mgY3FxkK/neptunenormal.png","https://i.postimg.cc/gj1y3mvb/neptunedisplacement.png"],dScale:.1,positions:[43,0,0],sphereArgs:[2.1,64,64]})};var Z=function(){var t=Object(r.useRef)();return Object(h.jsx)(D,{mesh:t,frameCallback:function(){t.current.rotation.y+=.01},maps:["https://i.postimg.cc/qq6yJSWb/pluto.jpg","https://i.postimg.cc/tChDFnmr/plutonormal.png","https://i.postimg.cc/7hz9s5PZ/plutodisplacement.png"],dScale:.1,positions:[52,0,0],sphereArgs:[.3,64,64]})},B=n(7);function Q(t){var e=new B.Vector3(t.positions[0],t.positions[1],t.positions[2]),n=new B.Vector3(-.2,0,1.2),r=new B.Vector3(t.positions[0],t.positions[1]+3,t.positions[2]+30),s=0;return Object(E.b)((function(c){var a=c.camera;"Intro"===t.stage?a.position.lerp(n,.01):(a.rotation.y=-9*Math.PI/180,s<10?(a.position.lerp(r,.01),s+=.2):a.position.lerp(e,.01))}))}var q=function(){var t=Object(u.d)((function(t){return t.zoomInPositions})),e=Object(u.d)((function(t){return t.stage}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(E.a,{camera:{position:[160,10,-160]},children:[Object(h.jsx)(L.a,{}),Object(h.jsx)(F.a,{fade:!0}),Object(h.jsx)("pointLight",{position:[-6,3,0],color:"#fdfbd3",intensity:6}),Object(h.jsx)("ambientLight",{position:[50,-15,-15],color:"#fdfbd3",intensity:.1}),Object(h.jsxs)(r.Suspense,{fallback:null,children:[Object(h.jsx)(M,{}),Object(h.jsx)(U,{}),Object(h.jsx)(G,{}),Object(h.jsx)(V,{}),Object(h.jsx)(z,{}),Object(h.jsx)(H,{}),Object(h.jsx)(W,{}),Object(h.jsx)(X,{}),Object(h.jsx)(Y,{}),Object(h.jsx)(Z,{}),Object(h.jsx)(Q,{positions:t,stage:e})]})]}),Object(h.jsx)(J.a,{}),Object(h.jsx)("div",{className:"app",children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/wherever",children:Object(h.jsx)(O,{})}),Object(h.jsx)(l.a,{path:"/signup",children:Object(h.jsx)(d,{serve:"Sign Up"})}),Object(h.jsx)(l.a,{path:"/trips",children:Object(h.jsx)(I,{})}),Object(h.jsx)(l.a,{path:"/planets",children:Object(h.jsx)(N,{})})]})})]})},K=n(42);var $=n(49),tt={stage:"Intro",zoomInPositions:[-.2,0,1.2],errors:[],user:{id:"".concat(localStorage.getItem("userId")),name:""},planets:[],trips:[]},et=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):K.b)(Object(K.a)($.a)),nt=Object(K.c)((function(t,e){switch(e.type){case"ADD_USER":case"SIGN_IN":return localStorage.setItem("userId",e.payload.id),Object(f.a)(Object(f.a)({},t),{},{user:{id:e.payload.id,name:e.payload.name}});case"FETCH_PLANETS":return Object(f.a)(Object(f.a)({},t),{},{planets:e.payload});case"FETCH_TRIPS":return Object(f.a)(Object(f.a)({},t),{},{trips:e.payload.filter((function(t){return t.user.id===parseInt(localStorage.getItem("userId"),10)}))});case"POST_TRIP":return Object(f.a)(Object(f.a)({},t),{},{trips:[].concat(Object(y.a)(t.trips),[e.payload])});case"CANCEL_TRIP":return Object(f.a)(Object(f.a)({},t),{},{trips:Object(y.a)(t.trips.filter((function(t){return t.id!==e.payload})))});case"EDIT_TRIP":return Object(f.a)(Object(f.a)({},t),{},{trips:t.trips.map((function(t){return t.id===e.payload.id?e.payload:t}))});case"LOG_OUT":return localStorage.clear(),Object(f.a)({},e.payload);case"ZOOM":return Object(f.a)(Object(f.a)({},t),{},{stage:e.payload[0],zoomInPositions:e.payload[1]});default:return t}}),tt,et);c.a.render(Object(h.jsx)(m.a,{children:Object(h.jsx)(u.a,{store:nt,children:Object(h.jsx)(q,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.81ffe8d9.chunk.js.map